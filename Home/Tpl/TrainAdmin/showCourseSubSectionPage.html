<extend name="../Public/base" />
<block name="main">
	<div class="row" style="margin-bottom: 50px;">
		<div class="col-lg-12">
			<h2 class="text-center"><{$courseSectionData.name}>小节管理</h2>
		</div>
	</div>
	<div class="row" style="margin-top: 20px;">
		<div class="col-lg-12  text-left">
			<!-- Button trigger modal -->
			<button type="button" class="btn btn-success" data-toggle="modal" data-target="#myModal">
			  新增小节
			</button>
			
			<!-- Modal -->
			<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
			  <div class="modal-dialog" role="document">
			    <div class="modal-content">
			      <div class="modal-header">
			        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
			        <h4 class="modal-title text-center" id="myModalLabel">新增小节</h4>
			      </div>
			      <div class="modal-body">
			      	<form action="__APP__/TrainAdmin/addSubSection" method="post">
			      		<input type="hidden" name="course_section_id" value="<{$courseSectionData.id}>" />
					      		<div class="form-group">
								    <label for="exampleInputEmail1">标题</label>
								    <input type="text" class="form-control" placeholder="标题" name="name" value=<{$vo.name}> >
							  	</div>
					      		<div class="form-group">
								    <label for="exampleInputEmail1">PPT</label>
									<input type="text" class="form-control" placeholder="PPT" name="ppt" value=<{$vo.ppt}>  >
							  	</div>
							  	<div class="form-group">
								    <label for="exampleInputEmail1">视频AppID</label>
								<input type="text" class="form-control" placeholder="视频AppID" name="app_id" value=<{$vo.app_id}>  >
							  	</div>
							  	<div class="form-group">
								    <label for="exampleInputEmail1">视频FileID</label>
								<input type="text" class="form-control" placeholder="视频FileID" name="file_id" value=<{$vo.file_id}>  >
							  	</div>
							  	<div class="form-group">
								    <label for="exampleInputEmail1">视频回放地址</label>
								<input type="text" class="form-control" placeholder="视频回放地址" name="video_address" value=<{$vo.video_address}>  >
							  	</div>
							  	<div class="form-group">
								    <label for="exampleInputEmail1">题目</label>
								<input type="text" class="form-control" placeholder="题目" name="all_problem" value=<{$vo.all_problem}>  >
							  	</div>
								<input type="submit" class="btn btn-primary btn-block"  value="提交" />
			      	</form>
			        
			      </div>
			      <!--<div class="modal-footer">
			        <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
			        <button type="button" class="btn btn-primary" onclick="addSection()">保存</button>
			      </div>-->
			    </div>
			  </div>
			</div>
		</div>
	</div>
	<div class="row" style="margin-bottom: 250px;">
		<div class="col-md-12">
			<table  class="table table-bordered table-condensed table-striped  table-hover text-center">
				<tr style="background-color:rgb(51,122,183);color: #FFFFFF;">
					<th style="width: 50%;" class="text-center">小节标题</th>
					<th style="width: 50%;" class="text-center">操作</th>
				</tr>
				<volist name='courseSubSectionData' id='vo' key="index">
					<tr>
						<td>
							<h4><{$vo.name}></h4>
						</td>
						<td>
							<!-- Button trigger modal -->
							<button type="button" class="btn btn-info" data-toggle="modal" data-target="#myModal<{$vo.id}>">
							  编辑
							</button>


							<!--<a href="__APP__/TrainAdmin/showModifyCoursePage/id/<{$vo.id}>" role="button" class="btn btn-info">编辑</a>-->
							<eq name="vo.status" value="0">
								<a href="__APP__/TrainAdmin/switchSubStatic/id/<{$vo.id}>" role="button" class="btn btn-info">隐藏</a>
								<else />
								<a href="__APP__/TrainAdmin/switchSubStatic/id/<{$vo.id}>" role="button" class="btn btn-warning">显示</a>
							</eq>
							
						</td>
					</tr>
					<div class="modal fade" id="myModal<{$vo.id}>" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
					  <div class="modal-dialog" role="document">
					    <div class="modal-content">
					      <div class="modal-header">
					        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
					        <h4 class="modal-title text-center" id="myModalLabel">修改小节的标题</h4>
					      </div>
					      <div class="modal-body">
							<form action="__APP__/TrainAdmin/modifySubSectionData" method="post">
								<input type="hidden" name="id" value="<{$vo.id}>" />
					      		<input type="hidden" name="course_section_id" value="<{$courseSectionData.id}>" />
					      		<div class="form-group">
								    <label for="exampleInputEmail1">标题</label>
								    <input type="text" class="form-control" placeholder="标题" name="name" value=<{$vo.name}> >
							  	</div>
					      		<div class="form-group">
								    <label for="exampleInputEmail1">PPT</label>
									<input type="text" class="form-control" placeholder="PPT" name="ppt" value=<{$vo.ppt}>  >
							  	</div>
							  	<div class="form-group">
								    <label for="exampleInputEmail1">视频AppID</label>
								<input type="text" class="form-control" placeholder="视频AppID" name="app_id" value=<{$vo.app_id}>  >
							  	</div>
							  	<div class="form-group">
								    <label for="exampleInputEmail1">视频FileID</label>
								<input type="text" class="form-control" placeholder="视频FileID" name="file_id" value=<{$vo.file_id}>  >
							  	</div>
						  		<div class="form-group">
								    <label for="exampleInputEmail1">视频回放地址</label>
								<input type="text" class="form-control" placeholder="视频回放地址" name="video_address" value=<{$vo.video_address}>  >
							  	</div>
							  	<div class="form-group">
								    <label for="exampleInputEmail1">题目</label>
								<input type="text" class="form-control" placeholder="题目" name="all_problem" value=<{$vo.all_problem}>  >
							  	</div>
								<input type="submit" class="btn btn-primary btn-block"  value="提交" />
					      	</form>
					      </div>
					    </div>
					  </div>
					</div>
				</volist>
			</table>
		</div>
	</div>
	<!-- Modal -->
	
</block>
<block name="footerJs">
	<script type="text/javascript">
		function modifySectionName(id)
		{
			var name=$('#sectionName'+id).val();
			window.location.href="__APP__/TrainAdmin/modifySectionData/id/"+id+"/name/"+name;
		}
		function addSection()
		{
			var name=$('#name').val();
			window.location.href="__APP__/TrainAdmin/addSubSection/name/"+name;
		}
	</script>
</block>