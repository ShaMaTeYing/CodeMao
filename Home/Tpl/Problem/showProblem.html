<extend name="../Public/base" />
<block name="css">
	<style type="text/css">
		.mes-row-item{
			color: #0066FF;
		}
		p{
			font-size: 18px;
			font-weight: 600;
		}
		pre{
			margin-left: 15px;
		}
		.mysapn{
			white-space: pre-wrap;       
			white-space: -moz-pre-wrap;  
			white-space: -pre-wrap;      
			white-space: -o-pre-wrap;    
			word-wrap: break-word;
			font-family: "Microsoft YaHei";
			font-size: 15px;
			line-height: 150%;
			background-color: #FFFFFF;
			border-width: 0;
		}
		.pre2{
			white-space: pre-wrap;       
			white-space: -moz-pre-wrap;  
			white-space: -pre-wrap;      
			white-space: -o-pre-wrap;    
			word-wrap: break-word;
			font-family: "Microsoft YaHei";
			font-size: 15px;
			line-height: 150%;
			background-color: #FFFFFF;
		}
	</style>
	<link rel="stylesheet" href="__PUBLIC__/codemirror/lib/codemirror.css">
	<link rel="stylesheet" href="__PUBLIC__/codemirror/theme/eclipse.css">
</block>
<block name="main">
	<div class="row">
		<div class="col-lg-12">
			<div class="btn-group" role="group" aria-label="...">
			  <a href="__APP__/Problem/showProblem/id/<{$problemData.id}>" class="btn btn-primary">题目描述</a>
			  <a href="__APP__/Problem/showMySubmit/problemId/<{$problemData.id}>" class="btn btn-info">我的提交</a>
			  <a href="__APP__/Problem/showProblemStatic/problemId/<{$problemData.id}>" class="btn btn-info">所有提交</a>
			  <a href="__APP__/Problem/changeProblem/problemId/<{$problemData.id}>" class="btn btn-success">换下一题</a>
			</div>
		</div>
	</div>
	<hr />
	<div class="row">
		<div class="col-md-12 text-center">
			  <h2> <{$problemData.id}> <span>:</span> <{$problemData.title}> </h2>
		</div>
	</div>
	<div class="row text-center" style="margin-bottom: 30px;">
		<div class="col-md-12">
			<span class="mes-row-item">时间限制: <{$problemData.time_limit}> MS</span>
			<span class="mes-row-item">内存限制: <{$problemData.memory_limit}> KB</span>
			<span class="mes-row-item">提交总数: <{$problemData.submissions}></span>
			<span class="mes-row-item">AC总数: <{$problemData.accepted}></span>
		</div>
	</div>
	<div class="row text-center">
		<div class="col-md-12">
			
		</div>
	</div>
	<div class="row">
		<div class="col-md-12">
			<div class="panel panel-success">
			  <div class="panel-heading">问题描述</div>
			  <div class="panel-body">
			  	<span class="mysapn"><{$problemData.description}></span>
			  </div>
			</div>
		</div>
	</div>
	<div class="row">
		<div class="col-md-12">
			<div class="panel panel-info">
			  <div class="panel-heading">输入格式</div>
			  <div class="panel-body">
			  	<span class="mysapn"><{$problemData.input}></span>
			  </div>
			</div>
		</div>
	</div>
	<div class="row">
		<div class="col-md-12">
			<div class="panel panel-info">
			  <div class="panel-heading">输出格式</div>
			  <div class="panel-body">
			  	<span class="mysapn"><{$problemData.output}></span>
			  </div>
			</div>
		</div>
	</div>
	<div class="row">
		<div class="col-md-12">
			<div class="panel panel-warning">
			  <div class="panel-heading">样例输入</div>
			  <div class="panel-body">
			  	<span class="mysapn"><{$problemData.sample_input}></span>
			  </div>
			</div>
		</div>
	</div>
	<div class="row">
		<div class="col-md-12">
			<div class="panel panel-warning">
			  <div class="panel-heading">样例输出</div>
			  <div class="panel-body">
			  	<span class="mysapn"><{$problemData.sample_output}></span>
			  </div>
			</div>
		</div>
	</div>
	<!--<div class="row">
		<div class="col-md-12">
			<div class="panel panel-danger">
			  <div class="panel-heading">作者</div>
			  <div class="panel-body">
			  	<span class="mysapn"><{$problemData.author}></span>
			  </div>
			</div>
		</div>
	</div>
	<div class="row">
		<div class="col-md-12">
			<div class="panel panel-danger">
			  <div class="panel-heading">来源</div>
			  <div class="panel-body">
			  	<span class="mysapn"><{$problemData.source}></span>
			  </div>
			</div>
		</div>
	</div>-->
	<div class="row">
		<div class="col-md-12">
			<div class="panel-group" id="accordion" role="tablist" aria-multiselectable="true">
			  <div class="panel panel-default">
			    <div class="panel-heading" role="tab" id="headingOne">
			      <h4 class="panel-title">
			        <a role="button" data-toggle="collapse" data-parent="#accordion" href="#collapseOne" aria-expanded="true" aria-controls="collapseOne">
			         	 锦囊
			        </a>
			      </h4>
			    </div>
			    <div id="collapseOne" class="panel-collapse collapse " role="tabpanel" aria-labelledby="headingOne">
			      <div class="panel-body">
			      	<!-- Button trigger modal -->
					<button type="button" class="btn btn-primary" data-toggle="modal" data-target="#myModal">
					  锦囊一
					</button>
					
					<!-- Modal -->
					<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
					  <div class="modal-dialog" role="document">
					    <div class="modal-content">
					      <div class="modal-header">
					        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
					        <h4 class="modal-title text-center" id="myModalLabel">锦囊一</h4>
					        
					      </div>
					      <div class="modal-body">
					        <!--<{$problemData.label}>-->
					        	<span>如果打开锦囊一，最后的AC得分为总分的80%，请确定是否打开。</span>
					        	<div id="tips1"></div>
					      </div>
					      <div class="modal-footer">
					        <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
					        <button type="button" class="btn btn-default" data-dismiss="modal" onclick="showtips1()">确定</button>
					      </div>
					    </div>
					  </div>
					</div>
					
					<button type="button" class="btn btn-primary" data-toggle="modal" data-target="#myModal2">
					  锦囊二
					</button>
					
					<!-- Modal -->
					<div class="modal fade" id="myModal2" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
					  <div class="modal-dialog" role="document">
					    <div class="modal-content">
					      <div class="modal-header">
					        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
					        <h4 class="modal-title" id="myModalLabel">锦囊二</h4>
					      </div>
					      <div class="modal-body">
					      		<span>如果打开锦囊二，最后的AC得分为总分的50%，请确定是否打开。</span>
					        	<div id="tips2"></div>
					        
					      </div>
					      <div class="modal-footer">
					        <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
					        <button type="button" class="btn btn-default" data-dismiss="modal" onclick="showtips2()">确定</button>
					      </div>
					    </div>
					  </div>
					</div>
					
					<button type="button" class="btn btn-primary" data-toggle="modal" data-target="#myModal3">
					  锦囊三
					</button>
					
					<!-- Modal -->
					<div class="modal fade" id="myModal3" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
					  <div class="modal-dialog" role="document">
					    <div class="modal-content">
					      <div class="modal-header">
					        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
					        <h4 class="modal-title" id="myModalLabel"> 锦囊三</h4>
					      </div>
					      <div class="modal-body">
					      	<div class="row">
								<div class="col-md-12">
									<span>如果打开锦囊三，最后的AC得分为0，请确定是否打开。</span>
					        		<div id="tips3"></div>
							   		
								</div>
							</div>
					        
					      </div>
					      <div class="modal-footer">
					        <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
					      	<button type="button" class="btn btn-default" data-dismiss="modal" onclick="showtips3()">确定</button>
					      </div>
					    </div>
					  </div>
					</div>
					<gt name="problemData.app_id" value="0">
					<button type="button" class="btn btn-primary" data-toggle="modal" data-target="#myModal4">
					  锦囊四
					</button>
					
					<!-- Modal -->
					<div class="modal fade" id="myModal4" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
					  <div class="modal-dialog" role="document">
					    <div class="modal-content">
					      <div class="modal-header">
					        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
					        <h4 class="modal-title" id="myModalLabel"> 锦囊四</h4>
					      </div>
					      <div class="modal-body">
					      	<div class="row">
								<div class="col-md-12">
									<span>如果打开锦囊四，最后的AC得分为0，请确定是否打开。</span>
					        		<div id="tips3"></div>
							   		
								</div>
							</div>
					        
					      </div>
					      <div class="modal-footer">
					        <button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
					      	<button type="button" class="btn btn-default" data-dismiss="modal" onclick="showtips4()">确定</button>
					      </div>
					    </div>
					  </div>
					</div>
					</gt>
					<gt name="tipsData.tip" value="0">
							<span style="margin-left: 50px;">你已经看过锦囊<{$tipsData.tip}>,AC后的得分为总分的<{$tipsData.radio}>% </span>
						<else/>
					</gt>
			      </div>
			    </div>
			  </div>
			 
			</div>
		</div>
	</div>
	<!--<div class="row">
		<div class="col-md-12">
			<p>作者</p>
			<pre><{$problemData.author}></pre>
		</div>
	</div>
	<div class="row">
		<div class="col-md-12">
			<p>来源</p>
			<pre><{$problemData.source}></pre>
		</div>
	</div>-->
	<form class="form-inline" action="__APP__/Judge/onlineJudge" method="post">
		<input type="hidden" name="problemID"  value="<{$problemData.id}>" />
		<div class="form-group" style="margin-top: 20px;">
		   <label style="font-size: 18px;">语言</label>
		   <select name="language" class="form-control">
		   	<volist name="lanData" id='vo'>
		   		<eq name="vo" value="$lastLan">
		   			<option value="<{$vo}>" selected="selected"><{$vo}></option>
		   			<else/>
		   			<option value="<{$vo}>"><{$vo}></option>
		   		</eq>
		   	</volist>
			</select>
		</div>
		<div class="row" style="margin-top: 20px;">
			<div class="col-md-12">
				<div class="panel panel-default">
				  <div class="panel-heading">你的源代码</div>
				  <div class="panel-body">
				    <textarea id="editor" name="editor"></textarea>
				  </div>
				</div>
			</div>
		</div>
	
		<div class="row" style="margin-top: 15px;">
			<div class="col-md-12 text-center">
				<div class="btn-group" role="group" aria-label="...">
					<div class="row">
						<div class="col-lg-3">
							 <input class="btn  btn-primary" type="submit" value="提交代码" >
						</div>
						<!--<div class="col-lg-3">
							<a href="__APP__/Problem/showMySubmit/problemId/<{$problemData.id}>" class="btn btn-info">历史</a>
						</div>
						<div class="col-lg-3">
							<a href="__APP__/Problem/showProblemStatic/problemId/<{$problemData.id}>" class="btn btn-info">统计</a>
						</div>
						<div class="col-lg-3">
							<a href="__APP__/Problem/changeProblem/problemId/<{$problemData.id}>" class="btn btn-success">换题</a>
						</div>-->
					</div>
				</div>
			</div>
		</div>
	</form>
	<script src="__PUBLIC__/codemirror/lib/codemirror.js"></script>
	<script src="__PUBLIC__/codemirror/mode/clike/clike.js"></script>
	<script type="text/javascript">
		var myTextarea = document.getElementById('editor');
		var CodeMirrorEditor = CodeMirror.fromTextArea(myTextarea, {
		    mode: "text/x-c++src",
		    matchBrackets: true,
		    indentUnit:4,
		    theme:'eclipse',
			lineNumbers: true
		});	
//		var myTextarea1 = document.getElementById('editor1');
//		var CodeMirrorEditor1 = CodeMirror.fromTextArea(myTextarea1, {
//		    mode: "text/x-c++src",
//		    matchBrackets: true,
//		    indentUnit:4,
//		    theme:'eclipse',
//			lineNumbers: true
//		});	
		function showtips1()
		{
//			alert("<{$problemData.label}>");
//			$("#tips1").val("<{$problemData.label}>");
			$.ajax({
			             type: "POST",
			             url: "__APP__/Problem/changeProblemTips",
			             data: {tip:"1", pid:<{$problemData.id}> },
//			             dataType: "json",
			             success: function(data){
			                         
			                      }
			         });
			document.getElementById('tips1').innerHTML="<h3>锦囊1内容：<{$problemData.label}><h3>";
			
		}
		function showtips2()
		{
//			alert("<{$problemData.label}>");
//			$("#tips1").val("<{$problemData.label}>");
			$.ajax({
			             type: "POST",
			             url: "__APP__/Problem/changeProblemTips",
			             data: {tip:"2", pid:<{$problemData.id}> },
//			             dataType: "json",
			             success: function(data){
			                         
			                      }
			         });
			document.getElementById('tips2').innerHTML="<h3 class='text-center'>锦囊2内容<h3><h6><{$problemData.idea}></h6>";
			
		}
		function showtips3()
		{
			$.ajax({
			             type: "POST",
			             url: "__APP__/Problem/changeProblemTips",
			             data: {tip:"3", pid:<{$problemData.id}> },
//			             dataType: "json",
			             success: function(data){
//			             	alert("test");
							var tempwindow=window.open('_blank'); // 先打开页面
							tempwindow.location='__APP__/Problem/showStdexe/id/<{$problemData.id}>'; // 后更改页面地址
//			                         window.open("__APP__/Problem/showStdexe/id/<{$problemData.id}>");
			                      }
			         });

		}
		function showtips4()
		{
			$.ajax({
			             type: "POST",
			             url: "__APP__/Problem/changeProblemTips",
			             data: {tip:"4", pid:<{$problemData.id}> },
//			             dataType: "json",
			             success: function(data){
//			             	alert("test");
							var tempwindow=window.open('_blank'); // 先打开页面
							tempwindow.location='__APP__/Problem/showVideo/id/<{$problemData.id}>'; // 后更改页面地址
//			                         window.open("__APP__/Problem/showStdexe/id/<{$problemData.id}>");
			                      }
			         });

		}
	</script>
</block>